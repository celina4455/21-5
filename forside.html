<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>21-5</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Prosto+One&display=swap" rel="stylesheet">
</head>

<body>

    <nav>
        <div class="dropdown">
            <a href="om.html">Om 21-5</a>
            <div class="dropdown-content">
                <a href="jura.html">Økonomi, jura og skat</a>
                <a href="job.html">Job i 21-5 teamet</a>
                <a href="spoergsmaal.html">Ofte stillede spørgsmål</a>
            </div>
        </div>

        <div class="dropdown">
            <a href="foreninger.html">Foreninger</a>
            <div class="dropdown-content">
                <a href="foreninger.html">3 typer ejerforeninger </a>
                <a href="openforening.html">Åbne foreninger</a>
                <a href="stiftetforening.html">Stiftede 21-5 foreninger</a>
            </div>
        </div>

        <div class="dropdown">
            <a href="destinationer.html">Destinationer</a>
            <div class="dropdown-content">
                <a href="#">Mallorca </a>
                <a href="#">Toscana</a>
                <a href="#">Sydfrankrig</a>
                <a href="#">Chamonix </a>
                <a href="#">New York</a>
                <a href="#">Barcelona</a>
                <a href="#">Paris</a>
                <a href="#">Rom</a>

            </div>
        </div>

        <div class="dropdown">
            <a href="kontakt.html">Kontakt</a>
            <div class="dropdown-content">
                <a href="kaffe.html">Book et kaffemøde</a>
                <a href="orientering.html">Kom med til orienteringsmøde</a>
            </div>
        </div>
    </nav>

    <div id="kontakt_pop">
        <p id="kontakt_pop_tekst"></p>
    </div>

    <section id="splash">
        <div class="wrap sort">
            <div class="splashbilleder splash1 fade">

            </div>
            <div class="splashbilleder splash2 fade">

            </div>
            <div class="splashbilleder splash3 fade">

            </div>
            <div class="splashbilleder splash4 fade">


            </div>
        </div>
    </section>

    <p class="tekst1"></p>
    <div class="video_forside"></div>
    <div class="diagram_forside"></div>

    <script>
        window.addEventListener("load", sidenVises);

        const endpoint = "http://celinamadsen.dk/kea/09/21_5/wordpress//wp-json/wp/v2/posts/8";

        const endpoint2 = "http://celinamadsen.dk/kea/09/21_5/wordpress//wp-json/wp/v2/posts/18/?per_page=100";

        const endpoint4 = "http://celinamadsen.dk/kea/09/21_5/wordpress//wp-json/wp/v2/posts/92/?per_page=100";

        var slideIndex = 0;

        function sidenVises() {
            console.log("Siden Vises");
            showSlides();
            hentData();
            hentData2();
            hentData4();

        }

        async function hentData() {
            const response = await fetch(endpoint);
            console.log(response);
            const json = await response.json();
            visPage(json);


        }

        async function hentData2() {
            const response = await fetch(endpoint2);
            console.log(response);
            const json = await response.json();
            visPage2(json);


        }

        async function hentData4() {
            const response = await fetch(endpoint4);
            console.log(response);
            const json = await response.json();
            visPage4(json);


        }

        function visPage(page) {

            console.log(page);
            document.querySelector(".tekst1").innerHTML = page.content.rendered;

        }

        function visPage2(page) {

            console.log(page);
            document.querySelector("#kontakt_pop_tekst").innerHTML = "<br>" + page.content.rendered;

        }

        function visPage4(page) {

            console.log(page);
            document.querySelector(".diagram_forside").innerHTML = page.content.rendered;

        }

        function showSlides() {
            var i;

            var slides = document.getElementsByClassName("splashbilleder");
            console.log('slides', slides);



            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            console.log('slideIndex', slideIndex);

            if (slideIndex > slides.length) {
                slideIndex = 1
            }

            slides[slideIndex - 1].style.display = "block";
            setTimeout(showSlides, 4000); // Change image every 4 seconds
        }
    </script>
</body></html>
